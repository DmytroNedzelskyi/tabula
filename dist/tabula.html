<!DOCTYPE html><html lang="en"><head><title>Tabula</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>*{box-sizing:border-box}:root{--primary-color:#af1c1c9e;--secondary-color:#e9dddb;--primary-text-color:#000b29;--secondary-text-color:#626d71b1;--background-color:#fff}html,body{color:var(--primary-text-color);margin:0;padding:0;font-family:Verdana,Geneva,Tahoma,sans-serif}body{min-width:350px;width:80%;margin-left:auto;margin-right:auto}header{height:80px;justify-content:space-between;align-items:center;padding:0;display:flex}footer{height:40px;flex-wrap:wrap;justify-content:end;align-items:center;gap:8px;padding:0;display:flex}header h1{margin:0;padding:0;font-weight:50}header h1:first-child:first-letter{color:var(--primary-color);vertical-align:4px;font-size:1em}#notes-module>textarea{height:80vh;width:100%;border:0;border-top:2px dotted var(--secondary-color);border-bottom:2px dotted var(--secondary-color);resize:none;outline:none;padding:16px;font-size:1.5em}*{scrollbar-width:thin;scrollbar-color:var(--secondary-color)var(--background-color)}::-webkit-scrollbar{width:16px;height:4px}::-webkit-scrollbar-track{background:var(--background-color)}::-webkit-scrollbar-thumb{background-color:var(--secondary-color);height:8px;border:4px solid var(--background-color);border-radius:4px}#app-alert{flex-grow:1;justify-self:left}</style><script type="module" defer>const t={NOTES_STORAGE_KEY:"tabula.notes",TEXTAREA_PLACEHOLDER:"Enter your notes here.",AUTOSAVE_INTERVAL:15e3};let e=!1;function s(e,s){s("Saving notes ..."),localStorage.setItem(t.NOTES_STORAGE_KEY,e),s("Notes saved.")}const a={TAG:"tabula-clock"};class r extends HTMLElement{constructor(){super(),this.state={timerId:0},this.root=this.attachShadow({mode:"closed"})}static get tagName(){return a.TAG}connectedCallback(){this.render();let t=window.setInterval(this.render.bind(this),1e3);this.state={...this.state,timerId:t}}disconnectedCallback(){window.clearInterval(this.state.timerId),this.state={...this.state,timerId:0}}render(){this.root.hasChildNodes()||(this.root.innerHTML=r.createHTML());let t=this.parseDate(new Date),e=this.root.querySelector("#clock");e.innerHTML=t}parseDate(t){let e=t.toLocaleDateString(),s=12>t.getHours()?"AM":"PM",a=t.toLocaleTimeString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"});return`${e} ${a} ${s}`}static register(){customElements.get(r.tagName)||customElements.define(r.tagName,r)}static createHTML(){return`
      <style>
        span {
          color: var(--secondary-text-color, inherit);
          font-size: 0.9em;
          padding: 8px;
        }
      </style>
      <span id="clock"></span>
    `}}const o={TAG:"tabula-alert",ATTRIBUTES:["timeout"],DEFAULT_TIMEOUT:2e3};class i extends HTMLElement{constructor(){super(),this.state={alertsQueue:[],broadcastProcessId:0,broadcastTimeout:o.DEFAULT_TIMEOUT},this.root=this.attachShadow({mode:"closed"})}static get tagName(){return o.TAG}static get observedAttributes(){return Object.freeze(o.ATTRIBUTES)}broadcast(t){0!==t.length&&(this.state={...this.state,alertsQueue:[...this.state.alertsQueue,t]},this.state.broadcastProcessId>0||this.render())}connectedCallback(){this.render()}disconnectedCallback(){this.state.broadcastProcessId>0&&window.clearTimeout(this.state.broadcastProcessId)}attributeChangedCallback(t,e,s){if("timeout"===t)this.state={...this.state,broadcastTimeout:Number.parseInt(s)};else throw Error(`Invalid attribute ${t} for <${i.tagName}> element.`)}render(){this.root.hasChildNodes()||(this.root.innerHTML=i.createHTML());let t=this.root.querySelector("#alert"),e=this.state.alertsQueue[0];if(this.state={...this.state,alertsQueue:[...this.state.alertsQueue.slice(1)]},!e?.length){this.state={...this.state,broadcastProcessId:0},t.innerHTML="";return}t.innerHTML=e;let s=window.setTimeout(this.render.bind(this),this.state.broadcastTimeout);this.state={...this.state,broadcastProcessId:s}}static register(){customElements.get(i.tagName)||customElements.define(i.tagName,i)}static createHTML(){return`
      <style>
        code {
          color: var(--secondary-text-color, initial);
          font-size: 1.1em;
          padding: 8px;
        }
      </style>
      <code id="alert"></code>
    `}}const n={NOTES_MODULE_ELEMENT_ID:"notes-module"};document.addEventListener("DOMContentLoaded",async()=>{r.register(),i.register();let a=document.getElementById("app-alert");!function(a,r){let o=document.getElementById(a);if(!o){console.error(`Unable to initialize "Notes Module".
       UI module element with Id: ${a} does not exist.`);return}let i=o?.querySelector("textarea");i&&(i.placeholder=t.TEXTAREA_PLACEHOLDER,i.value=function(e){e("Loading notes ..."),localStorage.getItem(t.NOTES_STORAGE_KEY)||s("",e);let a=localStorage.getItem(t.NOTES_STORAGE_KEY)??"";return a}(r),i.addEventListener("input",function(){e=!0}),setInterval(()=>{e&&(s(i.value,r),e=!1)},t.AUTOSAVE_INTERVAL))}(n.NOTES_MODULE_ELEMENT_ID,t=>{a&&a.broadcast(t)})});</script><link rel="icon" type="image/x-icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItY2xpcGJvYXJkIj48cGF0aCBkPSJNMTYgNGgyYTIgMiAwIDAgMSAyIDJ2MTRhMiAyIDAgMCAxLTIgMkg2YTIgMiAwIDAgMS0yLTJWNmEyIDIgMCAwIDEgMi0yaDIiPjwvcGF0aD48cmVjdCB4PSI4IiB5PSIyIiB3aWR0aD0iOCIgaGVpZ2h0PSI0IiByeD0iMSIgcnk9IjEiPjwvcmVjdD48L3N2Zz4="></head><body> <header> <h1>[T]abula</h1> </header> <main> <section id="notes-module"> <textarea></textarea> </section> </main> <footer> <tabula-alert id="app-alert"></tabula-alert> <tabula-clock></tabula-clock> </footer> </body></html>